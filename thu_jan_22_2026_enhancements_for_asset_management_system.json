{
  "currentUserLogin": "amarjeet0110",
  "threadUrl": "https://github.com/copilot/c/46568655-b822-4482-a199-3a7cbb8ccc4f",
  "threadName": "Enhancements for asset management system",
  "messages": [
    {
      "id": "root",
      "role": "user",
      "createdAt": "",
      "threadID": "",
      "references": null
    },
    {
      "id": "6c609dbd-49a8-4600-a946-ae2093b1dc2c",
      "parentMessageID": "root",
      "role": "user",
      "content": "\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Asset Management System</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            min-height: 100vh;\n            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #0f172a 100%);\n        }\n\n        body.light-mode {\n            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0f9ff 100%);\n        }\n\n        .bg-animation {\n            position: fixed;\n            inset: 0;\n            overflow: hidden;\n            pointer-events: none;\n            z-index: 0;\n        }\n\n        .blob {\n            position: absolute;\n            width: 400px;\n            height: 400px;\n            border-radius: 50%;\n            filter: blur(80px);\n            animation: pulse 4s ease-in-out infinite;\n        }\n\n        .blob1 {\n            background: rgba(14, 165, 233, 0.3);\n            top: -200px;\n            left: -200px;\n        }\n\n        .blob2 {\n            background: rgba(59, 130, 246, 0.3);\n            top: 40%;\n            right: -200px;\n            animation-delay: 1s;\n        }\n\n        .blob3 {\n            background: rgba(6, 182, 212, 0.3);\n            bottom: 0;\n            left: 40%;\n            animation-delay: 2s;\n        }\n\n        @keyframes pulse {\n            0%, 100% { transform: scale(1); opacity: 0.5; }\n            50% { transform: scale(1.1); opacity: 0.7; }\n        }\n\n        .login-page {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            z-index: 100;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            padding: 2rem;\n        }\n\n        .login-page.hidden {\n            display: none;\n        }\n\n        .login-container {\n            width: 100%;\n            max-width: 500px;\n        }\n\n        .login-card {\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(20px);\n            border-radius: 1.5rem;\n            padding: 3rem;\n            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        body.light-mode .login-card {\n            background: rgba(255, 255, 255, 0.9);\n            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);\n        }\n\n        .login-header {\n            text-align: center;\n            margin-bottom: 2rem;\n        }\n\n        .login-header h1 {\n            font-size: 2.5rem;\n            font-weight: bold;\n            margin-bottom: 0.5rem;\n            color: white;\n        }\n\n        body.light-mode .login-header h1 {\n            color: #0f172a;\n        }\n\n        .login-header p {\n            font-size: 1rem;\n            color: #bae6fd;\n        }\n\n        body.light-mode .login-header p {\n            color: #64748b;\n        }\n\n        .role-selector {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 0.75rem;\n            margin-bottom: 1.5rem;\n        }\n\n        .role-btn {\n            padding: 1rem;\n            border: 2px solid rgba(255, 255, 255, 0.2);\n            border-radius: 0.75rem;\n            background: rgba(255, 255, 255, 0.05);\n            color: rgba(255, 255, 255, 0.7);\n            font-size: 1rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.5rem;\n            user-select: none;\n        }\n\n        body.light-mode .role-btn {\n            background: rgba(0, 0, 0, 0.05);\n            color: rgba(0, 0, 0, 0.6);\n            border-color: #e2e8f0;\n        }\n\n        .role-btn.active {\n            background: linear-gradient(to right, #0ea5e9, #2563eb);\n            border-color: #0ea5e9;\n            color: white;\n            transform: scale(1.05);\n            box-shadow: 0 5px 15px rgba(14, 165, 233, 0.4);\n        }\n\n        .role-btn:hover:not(.active) {\n            border-color: #0ea5e9;\n            background: rgba(14, 165, 233, 0.1);\n            transform: scale(1.02);\n        }\n\n        .login-links {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 1rem;\n            font-size: 0.875rem;\n        }\n\n        .login-link {\n            color: #7dd3fc;\n            cursor: pointer;\n            text-decoration: none;\n            transition: all 0.3s;\n        }\n\n        body.light-mode .login-link {\n            color: #0284c7;\n        }\n\n        .login-link:hover {\n            color: #0ea5e9;\n            text-decoration: underline;\n        }\n\n        .login-header {\n            text-align: center;\n            margin-bottom: 2rem;\n        }\n\n        .login-header h1 {\n            font-size: 2rem;\n            font-weight: bold;\n            margin-bottom: 0.5rem;\n            color: white;\n        }\n\n        body.light-mode .login-header h1 {\n            color: #0f172a;\n        }\n\n        .login-header p {\n            font-size: 1rem;\n            color: #bae6fd;\n            margin-bottom: 0;\n        }\n\n        body.light-mode .login-header p {\n            color: #64748b;\n        }\n\n        .register-section {\n            background: rgba(255, 255, 255, 0.05);\n            backdrop-filter: blur(20px);\n            border-radius: 1.5rem;\n            padding: 3rem;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        body.light-mode .register-section {\n            background: rgba(255, 255, 255, 0.8);\n        }\n\n        .section-title {\n            font-size: 2rem;\n            font-weight: bold;\n            text-align: center;\n            margin-bottom: 1.5rem;\n            color: white;\n        }\n\n        body.light-mode .section-title {\n            color: #0f172a;\n        }\n\n        .back-link {\n            text-align: center;\n            margin-top: 1rem;\n        }\n\n        .modal-overlay {\n            display: none;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(10px);\n            z-index: 200;\n            justify-content: center;\n            align-items: center;\n            padding: 2rem;\n        }\n\n        .modal-overlay.show {\n            display: flex;\n        }\n\n        .tabs {\n            display: flex;\n            gap: 0.5rem;\n            margin-bottom: 2rem;\n        }\n\n        .tab {\n            flex: 1;\n            padding: 0.75rem;\n            border: none;\n            border-radius: 0.75rem;\n            font-size: 1rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s;\n            background: rgba(255, 255, 255, 0.1);\n            color: rgba(255, 255, 255, 0.6);\n        }\n\n        body.light-mode .tab {\n            background: rgba(0, 0, 0, 0.05);\n            color: rgba(0, 0, 0, 0.5);\n        }\n\n        .tab.active {\n            background: linear-gradient(to right, #0ea5e9, #2563eb);\n            color: white;\n        }\n\n        .form-group {\n            margin-bottom: 1.5rem;\n        }\n\n        .form-group label {\n            display: block;\n            font-size: 1rem;\n            font-weight: 500;\n            margin-bottom: 0.5rem;\n            color: white;\n        }\n\n        body.light-mode .form-group label {\n            color: #0f172a;\n        }\n\n        .form-group input,\n        .form-group select,\n        .form-group textarea {\n            width: 100%;\n            padding: 0.875rem;\n            font-size: 1rem;\n            border: 2px solid rgba(255, 255, 255, 0.2);\n            border-radius: 0.75rem;\n            background: rgba(255, 255, 255, 0.1);\n            color: white;\n            transition: all 0.3s;\n        }\n\n        body.light-mode .form-group input,\n        body.light-mode .form-group select,\n        body.light-mode .form-group textarea {\n            background: white;\n            color: #0f172a;\n            border-color: #e2e8f0;\n        }\n\n        .form-group input::placeholder,\n        .form-group textarea::placeholder {\n            color: rgba(255, 255, 255, 0.5);\n        }\n\n        body.light-mode .form-group input::placeholder,\n        body.light-mode .form-group textarea::placeholder {\n            color: rgba(0, 0, 0, 0.4);\n        }\n\n        .form-group input:focus,\n        .form-group select:focus,\n        .form-group textarea:focus {\n            outline: none;\n            border-color: #0ea5e9;\n        }\n\n        .btn {\n            width: 100%;\n            padding: 1rem;\n            font-size: 1rem;\n            font-weight: bold;\n            border: none;\n            border-radius: 0.75rem;\n            cursor: pointer;\n            transition: all 0.3s;\n            background: linear-gradient(to right, #0ea5e9, #2563eb);\n            color: white;\n        }\n\n        .btn:hover {\n            transform: scale(1.02);\n            box-shadow: 0 10px 25px rgba(14, 165, 233, 0.4);\n        }\n\n        .demo-text {\n            margin-top: 1rem;\n            text-align: center;\n            color: rgba(255,255,255,0.6);\n            font-size: 0.875rem;\n        }\n\n        body.light-mode .demo-text {\n            color: rgba(0,0,0,0.5);\n        }\n\n        .dashboard {\n            position: relative;\n            z-index: 10;\n            max-width: 1400px;\n            margin: 0 auto;\n            padding: 2rem;\n            display: none;\n        }\n\n        .dashboard.active {\n            display: block;\n        }\n\n        .top-bar {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 2rem;\n            padding: 1.5rem;\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(20px);\n            border-radius: 1rem;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        body.light-mode .top-bar {\n            background: rgba(255, 255, 255, 0.9);\n        }\n\n        .user-info {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n        }\n\n        .user-name {\n            font-size: 1.25rem;\n            font-weight: 600;\n            color: white;\n        }\n\n        body.light-mode .user-name {\n            color: #0f172a;\n        }\n\n        .badge {\n            padding: 0.5rem 1rem;\n            border-radius: 0.5rem;\n            font-weight: 600;\n            font-size: 0.875rem;\n        }\n\n        .badge-admin {\n            background: rgba(139, 92, 246, 0.2);\n            color: #a78bfa;\n        }\n\n        .badge-employee {\n            background: rgba(14, 165, 233, 0.2);\n            color: #7dd3fc;\n        }\n\n        .actions {\n            display: flex;\n            gap: 0.75rem;\n            flex-wrap: wrap;\n        }\n\n        .btn-icon {\n            padding: 0.75rem 1.25rem;\n            border: none;\n            border-radius: 0.5rem;\n            cursor: pointer;\n            font-weight: 600;\n            font-size: 0.875rem;\n            background: rgba(255, 255, 255, 0.1);\n            color: white;\n            transition: all 0.3s;\n        }\n\n        body.light-mode .btn-icon {\n            background: rgba(0, 0, 0, 0.05);\n            color: #0f172a;\n        }\n\n        .btn-icon:hover {\n            transform: translateY(-2px);\n            background: rgba(255, 255, 255, 0.2);\n        }\n\n        .header {\n            text-align: center;\n            margin-bottom: 3rem;\n        }\n\n        .header h1 {\n            font-size: 3.5rem;\n            font-weight: bold;\n            margin-bottom: 1rem;\n            color: white;\n        }\n\n        body.light-mode .header h1 {\n            color: #0f172a;\n        }\n\n        .header p {\n            font-size: 1.25rem;\n            color: #bae6fd;\n        }\n\n        body.light-mode .header p {\n            color: #64748b;\n        }\n\n        .stats {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n            gap: 1.5rem;\n            margin-bottom: 2.5rem;\n        }\n\n        .stat-card {\n            background: linear-gradient(135deg, #0ea5e9 0%, #2563eb 100%);\n            border-radius: 1.5rem;\n            padding: 2rem;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n            transition: all 0.3s;\n        }\n\n        .stat-card:hover {\n            transform: translateY(-5px);\n            box-shadow: 0 20px 40px rgba(14, 165, 233, 0.4);\n        }\n\n        .stat-card.emerald {\n            background: linear-gradient(135deg, #10b981 0%, #14b8a6 100%);\n        }\n\n        .stat-card.violet {\n            background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);\n        }\n\n        .stat-label {\n            color: rgba(255, 255, 255, 0.9);\n            font-size: 1rem;\n            margin-bottom: 0.5rem;\n        }\n\n        .stat-value {\n            font-size: 3rem;\n            font-weight: bold;\n            color: white;\n        }\n\n        .grid {\n            display: grid;\n            grid-template-columns: 1fr 2fr;\n            gap: 2rem;\n        }\n\n        @media (max-width: 1024px) {\n            .grid {\n                grid-template-columns: 1fr;\n            }\n        }\n\n        .card {\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(20px);\n            border-radius: 1.5rem;\n            padding: 2rem;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        body.light-mode .card {\n            background: rgba(255, 255, 255, 0.9);\n        }\n\n        .card h2 {\n            font-size: 2rem;\n            font-weight: bold;\n            margin-bottom: 1.5rem;\n            color: white;\n        }\n\n        body.light-mode .card h2 {\n            color: #0f172a;\n        }\n\n        .assets-list {\n            max-height: 700px;\n            overflow-y: auto;\n        }\n\n        .asset-item {\n            background: rgba(255, 255, 255, 0.05);\n            border-radius: 1rem;\n            padding: 1.5rem;\n            margin-bottom: 1rem;\n            border-left: 4px solid #0ea5e9;\n            transition: all 0.3s;\n        }\n\n        body.light-mode .asset-item {\n            background: rgba(255, 255, 255, 0.6);\n        }\n\n        .asset-item:hover {\n            transform: translateX(5px);\n            background: rgba(255, 255, 255, 0.1);\n        }\n\n        .asset-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: start;\n            margin-bottom: 1rem;\n        }\n\n        .asset-name {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: white;\n            margin-bottom: 0.5rem;\n        }\n\n        body.light-mode .asset-name {\n            color: #0f172a;\n        }\n\n        .status {\n            display: inline-block;\n            padding: 0.4rem 1rem;\n            border-radius: 999px;\n            font-size: 0.875rem;\n            font-weight: 600;\n        }\n\n        .status-active {\n            background: rgba(16, 185, 129, 0.2);\n            color: #6ee7b7;\n        }\n\n        body.light-mode .status-active {\n            color: #059669;\n        }\n\n        .status-maintenance {\n            background: rgba(245, 158, 11, 0.2);\n            color: #fcd34d;\n        }\n\n        body.light-mode .status-maintenance {\n            color: #d97706;\n        }\n\n        .status-retired {\n            background: rgba(239, 68, 68, 0.2);\n            color: #fca5a5;\n        }\n\n        body.light-mode .status-retired {\n            color: #dc2626;\n        }\n\n        .asset-actions {\n            display: flex;\n            gap: 0.5rem;\n        }\n\n        .btn-sm {\n            padding: 0.5rem 1rem;\n            font-size: 0.875rem;\n            border: none;\n            border-radius: 0.5rem;\n            cursor: pointer;\n            font-weight: 600;\n            transition: all 0.3s;\n        }\n\n        .btn-edit {\n            background: rgba(245, 158, 11, 0.2);\n            color: #fcd34d;\n        }\n\n        body.light-mode .btn-edit {\n            color: #d97706;\n        }\n\n        .btn-delete {\n            background: rgba(239, 68, 68, 0.2);\n            color: #fca5a5;\n        }\n\n        body.light-mode .btn-delete {\n            color: #dc2626;\n        }\n\n        .asset-details {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 0.75rem;\n            font-size: 0.95rem;\n            color: rgba(255, 255, 255, 0.8);\n        }\n\n        body.light-mode .asset-details {\n            color: rgba(0, 0, 0, 0.7);\n        }\n\n        .empty {\n            text-align: center;\n            padding: 4rem 0;\n            color: rgba(255, 255, 255, 0.6);\n        }\n\n        body.light-mode .empty {\n            color: rgba(0, 0, 0, 0.5);\n        }\n\n        .modal {\n            display: none;\n            position: fixed;\n            z-index: 1000;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(10px);\n        }\n\n        .modal.show {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            padding: 2rem;\n        }\n\n        .modal-content {\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(20px);\n            border-radius: 1.5rem;\n            padding: 2rem;\n            max-width: 600px;\n            width: 100%;\n            max-height: 90vh;\n            overflow-y: auto;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        body.light-mode .modal-content {\n            background: rgba(255, 255, 255, 0.95);\n        }\n\n        .modal-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 1.5rem;\n        }\n\n        .modal-header h2 {\n            font-size: 1.75rem;\n            color: white;\n        }\n\n        body.light-mode .modal-header h2 {\n            color: #0f172a;\n        }\n\n        .btn-close {\n            background: rgba(239, 68, 68, 0.2);\n            color: #fca5a5;\n            border: none;\n            padding: 0.5rem 1rem;\n            border-radius: 0.5rem;\n            cursor: pointer;\n            font-weight: 600;\n        }\n\n        body.light-mode .btn-close {\n            color: #dc2626;\n        }\n\n        @media (max-width: 768px) {\n            .header h1 { font-size: 2rem; }\n            .asset-details { grid-template-columns: 1fr; }\n            .actions { justify-content: center; }\n            .role-selector { grid-template-columns: 1fr; }\n            .login-card { padding: 2rem; }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"bg-animation\">\n        <div class=\"blob blob1\"></div>\n        <div class=\"blob blob2\"></div>\n        <div class=\"blob blob3\"></div>\n    </div>\n\n    <!-- Login Page -->\n    <div class=\"login-page\" id=\"loginPage\">\n        <div class=\"login-container\">\n            <!-- Main Login Card -->\n            <div class=\"login-card\" id=\"loginCard\">\n                <div class=\"login-header\">\n                    <h1>üè¢ Asset Manager</h1>\n                    <p>Secure Login Portal</p>\n                </div>\n\n                <!-- Role Selection -->\n                <div class=\"role-selector\">\n                    <button type=\"button\" class=\"role-btn active\" id=\"adminRoleBtn\">\n                        <span>üë®‚Äçüíº</span> <span>Admin</span>\n                    </button>\n                    <button type=\"button\" class=\"role-btn\" id=\"employeeRoleBtn\">\n                        <span>üë§</span> <span>Employee</span>\n                    </button>\n                </div>\n\n                <!-- Login Form -->\n                <div class=\"form-group\">\n                    <label>Username</label>\n                    <input type=\"text\" id=\"loginUser\" placeholder=\"Enter username\">\n                </div>\n                <div class=\"form-group\">\n                    <label>Password</label>\n                    <input type=\"password\" id=\"loginPass\" placeholder=\"Enter password\">\n                </div>\n                \n                <button class=\"btn\" id=\"loginBtn\">Login</button>\n                \n                <div class=\"login-links\">\n                    <a class=\"login-link\" id=\"registerLink\">Create Account</a>\n                    <a class=\"login-link\" id=\"forgotLink\">Forgot Password?</a>\n                </div>\n                \n                <p class=\"demo-text\" id=\"demoText\">\n                    Demo: admin/admin123\n                </p>\n            </div>\n        </div>\n    </div>\n\n    <!-- Registration Modal -->\n    <div class=\"modal-overlay\" id=\"registerModal\">\n        <div class=\"login-container\">\n            <div class=\"register-section\">\n                <h2 class=\"section-title\">üìù Create Account</h2>\n                <div class=\"form-group\">\n                    <label>Username</label>\n                    <input type=\"text\" id=\"regUser\" placeholder=\"Choose username\">\n                </div>\n                <div class=\"form-group\">\n                    <label>Password</label>\n                    <input type=\"password\" id=\"regPass\" placeholder=\"Choose password\">\n                </div>\n                <div class=\"form-group\">\n                    <label>Full Name</label>\n                    <input type=\"text\" id=\"regName\" placeholder=\"Enter full name\">\n                </div>\n                <div class=\"form-group\">\n                    <label>Role</label>\n                    <select id=\"regRole\">\n                        <option value=\"employee\">Employee</option>\n                        <option value=\"admin\">Admin</option>\n                    </select>\n                </div>\n                <button class=\"btn\" id=\"registerBtn\">Register Now</button>\n                <div class=\"back-link\">\n                    <a class=\"login-link\" id=\"backFromRegister\">‚Üê Back to Login</a>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Forgot Password Modal -->\n    <div class=\"modal-overlay\" id=\"forgotModal\">\n        <div class=\"login-container\">\n            <div class=\"register-section\">\n                <h2 class=\"section-title\">üîë Reset Password</h2>\n                \n                <!-- Step 1: Request OTP -->\n                <div id=\"otpRequestSection\">\n                    <div class=\"form-group\">\n                        <label>Username</label>\n                        <input type=\"text\" id=\"forgotUser\" placeholder=\"Enter your username\">\n                    </div>\n                    <button class=\"btn\" id=\"sendOtpBtn\">Send OTP</button>\n                </div>\n                \n                <!-- Step 2: Verify OTP and Reset Password -->\n                <div id=\"otpVerifySection\" style=\"display: none;\">\n                    <div class=\"form-group\">\n                        <label>Enter OTP</label>\n                        <input type=\"text\" id=\"otpInput\" placeholder=\"Enter 6-digit OTP\" maxlength=\"6\">\n                        <p style=\"margin-top: 0.5rem; font-size: 0.875rem; color: #10b981;\" id=\"otpSentMsg\"></p>\n                    </div>\n                    <div class=\"form-group\">\n                        <label>New Password</label>\n                        <input type=\"password\" id=\"forgotNewPass\" placeholder=\"Enter new password\">\n                    </div>\n                    <div class=\"form-group\">\n                        <label>Confirm Password</label>\n                        <input type=\"password\" id=\"forgotConfirmPass\" placeholder=\"Confirm new password\">\n                    </div>\n                    <button class=\"btn\" id=\"resetPasswordBtn\">Reset Password</button>\n                    <button class=\"btn\" id=\"resendOtpBtn\" style=\"margin-top: 0.5rem; background: #64748b;\">Resend OTP</button>\n                </div>\n                \n                <div class=\"back-link\">\n                    <a class=\"login-link\" id=\"backFromForgot\">‚Üê Back to Login</a>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Dashboard -->\n    <div class=\"dashboard\" id=\"dashboard\">\n        <div class=\"top-bar\">\n            <div class=\"user-info\">\n                <span class=\"user-name\" id=\"userName\">Welcome</span>\n                <span class=\"badge\" id=\"userBadge\">User</span>\n            </div>\n            <div class=\"actions\">\n                <button class=\"btn-icon\" onclick=\"openAI()\">ü§ñ AI Chat</button>\n                <button class=\"btn-icon\" onclick=\"toggleTheme()\">üåì Theme</button>\n                <button class=\"btn-icon\" onclick=\"handleLogout()\">üö™ Logout</button>\n            </div>\n        </div>\n\n        <div class=\"header\">\n            <h1>Asset Management</h1>\n            <p>Track and manage your assets efficiently</p>\n        </div>\n\n        <div class=\"stats\">\n            <div class=\"stat-card\">\n                <div class=\"stat-label\">Total Assets</div>\n                <div class=\"stat-value\" id=\"totalAssets\">0</div>\n            </div>\n            <div class=\"stat-card emerald\">\n                <div class=\"stat-label\">Active Assets</div>\n                <div class=\"stat-value\" id=\"activeAssets\">0</div>\n            </div>\n            <div class=\"stat-card violet\">\n                <div class=\"stat-label\">Total Value</div>\n                <div class=\"stat-value\" id=\"totalValue\">‚Çπ0</div>\n            </div>\n        </div>\n\n        <div class=\"grid\">\n            <div class=\"card\" id=\"formCard\">\n                <h2 id=\"formTitle\">Add Asset</h2>\n                <div class=\"form-group\">\n                    <label>Asset Name *</label>\n                    <input type=\"text\" id=\"assetName\" placeholder=\"e.g., Dell Laptop\">\n                </div>\n                <div class=\"form-group\">\n                    <label>Type *</label>\n                    <select id=\"assetType\">\n                        <option value=\"\">Select Type</option>\n                        <option value=\"Hardware\">Hardware</option>\n                        <option value=\"Software\">Software</option>\n                        <option value=\"Furniture\">Furniture</option>\n                        <option value=\"Vehicle\">Vehicle</option>\n                        <option value=\"Equipment\">Equipment</option>\n                    </select>\n                </div>\n                <div class=\"form-group\">\n                    <label>Value (‚Çπ)</label>\n                    <input type=\"number\" id=\"assetValue\" placeholder=\"0\">\n                </div>\n                <div class=\"form-group\">\n                    <label>Status *</label>\n                    <select id=\"assetStatus\">\n                        <option value=\"Active\">Active</option>\n                        <option value=\"Maintenance\">Maintenance</option>\n                        <option value=\"Retired\">Retired</option>\n                    </select>\n                </div>\n                <div class=\"form-group\">\n                    <label>Location</label>\n                    <input type=\"text\" id=\"assetLocation\" placeholder=\"e.g., Office Floor 2\">\n                </div>\n                <div class=\"form-group\">\n                    <label>Description</label>\n                    <textarea id=\"assetDesc\" rows=\"2\" placeholder=\"Additional details\"></textarea>\n                </div>\n                <button class=\"btn\" onclick=\"saveAsset()\" id=\"saveBtn\">Add Asset</button>\n                <button class=\"btn\" onclick=\"cancelEdit()\" id=\"cancelBtn\" style=\"display:none; margin-top:0.5rem; background:#64748b;\">Cancel</button>\n            </div>\n\n            <div class=\"card\">\n                <h2>Assets Inventory</h2>\n                <div class=\"form-group\">\n                    <input type=\"text\" id=\"searchBox\" placeholder=\"Search assets...\" oninput=\"loadAssets()\">\n                </div>\n                <div class=\"assets-list\" id=\"assetsList\">\n                    <div class=\"empty\">\n                        <h3>No assets found</h3>\n                        <p>Add your first asset to get started</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- AI Modal -->\n    <div class=\"modal\" id=\"aiModal\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2>ü§ñ AI Assistant</h2>\n                <button class=\"btn-close\" onclick=\"closeAI()\">Close</button>\n            </div>\n            <div style=\"background: rgba(255,255,255,0.05); border-radius: 1rem; padding: 1rem; margin-bottom: 1rem; max-height: 400px; overflow-y: auto;\" id=\"chatBox\">\n                <p style=\"opacity: 0.7; color: white;\">Hello! Ask me anything about asset management.</p>\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 0.5rem;\">\n                <textarea id=\"aiInput\" rows=\"3\" placeholder=\"Type your question...\"></textarea>\n            </div>\n            <button class=\"btn\" onclick=\"sendMessage()\">Send</button>\n        </div>\n    </div>\n\n    <script>\n        let currentUser = null;\n        let assets = [];\n        let editId = null;\n        \n        // Initialize users\n        let users = [\n            {id: 1, username: 'admin', password: 'admin123', name: 'Admin User', role: 'admin'},\n            {id: 2, username: 'employee', password: 'emp123', name: 'Employee User', role: 'employee'}\n        ];\n\n        function init() {\n            // Load users\n            const savedUsers = localStorage.getItem('users');\n            if (savedUsers) {\n                users = JSON.parse(savedUsers);\n            } else {\n                localStorage.setItem('users', JSON.stringify(users));\n            }\n            \n            // Check if user is already logged in\n            const savedUser = sessionStorage.getItem('currentUser');\n            if (savedUser) {\n                currentUser = JSON.parse(savedUser);\n                showDashboard();\n            }\n            loadAssets();\n        }\n        \n        // Initialize on page load\n        window.onload = init;\n\n        function switchTab(tab) {\n            // Not needed anymore - keeping for compatibility\n        }\n\n\n\n        function handleRegister() {\n            const username = document.getElementById('regUser').value.trim();\n            const password = document.getElementById('regPass').value.trim();\n            const name = document.getElementById('regName').value.trim();\n            const role = document.getElementById('regRole').value;\n\n            if (!username || !password || !name) {\n                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä fields ‡§≠‡§∞‡•á‡§Ç!');\n                return;\n            }\n\n            if (users.find(u => u.username === username)) {\n                alert('‡§Ø‡§π username ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¶‡•Ç‡§∏‡§∞‡§æ username ‡§ö‡•Å‡§®‡•á‡§Ç‡•§');\n                return;\n            }\n\n            const newUser = {\n                id: Date.now(),\n                username: username,\n                password: password,\n                name: name,\n                role: role\n            };\n\n            users.push(newUser);\n            localStorage.setItem('users', JSON.stringify(users));\n            \n            alert('‚úÖ Registration ‡§∏‡§´‡§≤! ‡§Ö‡§¨ ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•á role ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ login ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§');\n            \n            // Clear form\n            document.getElementById('regUser').value = '';\n            document.getElementById('regPass').value = '';\n            document.getElementById('regName').value = '';\n            \n            // Scroll to top\n            window.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n\n        function showDashboard() {\n            document.getElementById('loginPage').classList.add('hidden');\n            document.getElementById('dashboard').classList.add('active');\n            document.getElementById('userName').textContent = 'Welcome, ' + currentUser.name;\n            document.getElementById('userBadge').textContent = currentUser.role.toUpperCase();\n            document.getElementById('userBadge').className = 'badge badge-' + currentUser.role;\n            \n            // Hide form for employees\n            if (currentUser.role === 'employee') {\n                document.getElementById('formCard').style.display = 'none';\n            } else {\n                document.getElementById('formCard').style.display = 'block';\n            }\n            \n            loadAssets();\n        }\n\n        function handleLogout() {\n            // Clear session\n            sessionStorage.clear();\n            localStorage.removeItem('currentUser');\n            currentUser = null;\n            \n            // Hide dashboard\n            document.getElementById('dashboard').style.display = 'none';\n            \n            // Show login page\n            const loginPage = document.getElementById('loginPage');\n            loginPage.style.display = 'flex';\n            loginPage.classList.remove('hidden');\n            \n            // Clear all login fields\n            document.getElementById('loginUser').value = '';\n            document.getElementById('loginPass').value = '';\n            \n            // Reset role to admin\n            selectRole('admin');\n            \n            // Reload page to ensure clean state\n            setTimeout(() => {\n                location.reload();\n            }, 100);\n        }\n\n        function toggleTheme() {\n            document.body.classList.toggle('light-mode');\n        }\n\n        function saveAsset() {\n            if (currentUser.role !== 'admin') {\n                alert('‡§∏‡§ø‡§∞‡•ç‡§´ Admin ‡§π‡•Ä assets add/edit ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç!');\n                return;\n            }\n\n            const name = document.getElementById('assetName').value.trim();\n            const type = document.getElementById('assetType').value;\n            const value = document.getElementById('assetValue').value || '0';\n            const status = document.getElementById('assetStatus').value;\n            const location = document.getElementById('assetLocation').value.trim();\n            const description = document.getElementById('assetDesc').value.trim();\n\n            if (!name || !type || !status) {\n                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä required fields ‡§≠‡§∞‡•á‡§Ç (Name, Type, Status)');\n                return;\n            }\n\n            const asset = {\n                id: editId || Date.now(),\n                name: name,\n                type: type,\n                value: parseFloat(value),\n                status: status,\n                location: location,\n                description: description,\n                createdBy: currentUser.name,\n                createdAt: editId ? assets.find(a => a.id === editId).createdAt : new Date().toISOString()\n            };\n\n            if (editId) {\n                const index = assets.findIndex(a => a.id === editId);\n                assets[index] = asset;\n                editId = null;\n                document.getElementById('formTitle').textContent = 'Add Asset';\n                document.getElementById('saveBtn').textContent = 'Add Asset';\n                document.getElementById('cancelBtn').style.display = 'none';\n            } else {\n                assets.push(asset);\n            }\n\n            localStorage.setItem('assets', JSON.stringify(assets));\n            \n            // Clear form\n            document.getElementById('assetName').value = '';\n            document.getElementById('assetType').value = '';\n            document.getElementById('assetValue').value = '';\n            document.getElementById('assetStatus').value = 'Active';\n            document.getElementById('assetLocation').value = '';\n            document.getElementById('assetDesc').value = '';\n            \n            loadAssets();\n            alert('Asset successfully saved!');\n        }\n\n        function cancelEdit() {\n            editId = null;\n            document.getElementById('formTitle').textContent = 'Add Asset';\n            document.getElementById('saveBtn').textContent = 'Add Asset';\n            document.getElementById('cancelBtn').style.display = 'none';\n            \n            // Clear form\n            document.getElementById('assetName').value = '';\n            document.getElementById('assetType').value = '';\n            document.getElementById('assetValue').value = '';\n            document.getElementById('assetStatus').value = 'Active';\n            document.getElementById('assetLocation').value = '';\n            document.getElementById('assetDesc').value = '';\n        }\n\n        function loadAssets() {\n            const savedAssets = localStorage.getItem('assets');\n            if (savedAssets) {\n                assets = JSON.parse(savedAssets);\n            }\n\n            const searchTerm = document.getElementById('searchBox')?.value.toLowerCase() || '';\n            const filteredAssets = assets.filter(a => \n                a.name.toLowerCase().includes(searchTerm) ||\n                a.type.toLowerCase().includes(searchTerm) ||\n                a.location.toLowerCase().includes(searchTerm)\n            );\n\n            // Update stats\n            document.getElementById('totalAssets').textContent = assets.length;\n            document.getElementById('activeAssets').textContent = assets.filter(a => a.status === 'Active').length;\n            document.getElementById('totalValue').textContent = '‚Çπ' + assets.reduce((sum, a) => sum + (a.value || 0), 0).toLocaleString();\n\n            const listContainer = document.getElementById('assetsList');\n            \n            if (filteredAssets.length === 0) {\n                listContainer.innerHTML = `\n                    <div class=\"empty\">\n                        <h3>No assets found</h3>\n                        <p>${searchTerm ? 'Try a different search term' : 'Add your first asset to get started'}</p>\n                    </div>\n                `;\n                return;\n            }\n\n            listContainer.innerHTML = filteredAssets.map(asset => `\n                <div class=\"asset-item\">\n                    <div class=\"asset-header\">\n                        <div>\n                            <div class=\"asset-name\">${asset.name}</div>\n                            <span class=\"status status-${asset.status.toLowerCase()}\">${asset.status}</span>\n                        </div>\n                        ${currentUser && currentUser.role === 'admin' ? `\n                        <div class=\"asset-actions\">\n                            <button class=\"btn-sm btn-edit\" onclick=\"editAsset(${asset.id})\">Edit</button>\n                            <button class=\"btn-sm btn-delete\" onclick=\"deleteAsset(${asset.id})\">Delete</button>\n                        </div>\n                        ` : ''}\n                    </div>\n                    <div class=\"asset-details\">\n                        <div><strong>Type:</strong> ${asset.type}</div>\n                        <div><strong>Value:</strong> ‚Çπ${asset.value.toLocaleString()}</div>\n                        <div><strong>Location:</strong> ${asset.location || 'N/A'}</div>\n                        <div><strong>Created By:</strong> ${asset.createdBy}</div>\n                        ${asset.description ? `<div style=\"grid-column: 1 / -1;\"><strong>Description:</strong> ${asset.description}</div>` : ''}\n                    </div>\n                </div>\n            `).join('');\n        }\n\n        function editAsset(id) {\n            if (currentUser.role !== 'admin') {\n                alert('‡§∏‡§ø‡§∞‡•ç‡§´ Admin ‡§π‡•Ä assets edit ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç!');\n                return;\n            }\n\n            const asset = assets.find(a => a.id === id);\n            if (!asset) return;\n\n            editId = id;\n            document.getElementById('assetName').value = asset.name;\n            document.getElementById('assetType').value = asset.type;\n            document.getElementById('assetValue').value = asset.value;\n            document.getElementById('assetStatus').value = asset.status;\n            document.getElementById('assetLocation').value = asset.location;\n            document.getElementById('assetDesc').value = asset.description;\n\n            document.getElementById('formTitle').textContent = 'Edit Asset';\n            document.getElementById('saveBtn').textContent = 'Update Asset';\n            document.getElementById('cancelBtn').style.display = 'block';\n\n            // Scroll to form\n            document.getElementById('formCard').scrollIntoView({ behavior: 'smooth' });\n        }\n\n        function deleteAsset(id) {\n            if (currentUser.role !== 'admin') {\n                alert('‡§∏‡§ø‡§∞‡•ç‡§´ Admin ‡§π‡•Ä assets delete ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç!');\n                return;\n            }\n\n            if (confirm('‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§á‡§∏ asset ‡§ï‡•ã delete ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?')) {\n                assets = assets.filter(a => a.id !== id);\n                localStorage.setItem('assets', JSON.stringify(assets));\n                loadAssets();\n            }\n        }\n\n        function openAI() {\n            document.getElementById('aiModal').classList.add('show');\n        }\n\n        function closeAI() {\n            document.getElementById('aiModal').classList.remove('show');\n        }\n\n        async function sendMessage() {\n            const input = document.getElementById('aiInput');\n            const message = input.value.trim();\n            \n            if (!message) return;\n\n            const chatBox = document.getElementById('chatBox');\n            \n            // Add user message\n            chatBox.innerHTML += `<p style=\"margin: 0.5rem 0; padding: 0.75rem; background: rgba(59, 130, 246, 0.2); border-radius: 0.5rem; color: white;\"><strong>You:</strong> ${message}</p>`;\n            input.value = '';\n            \n            // Add loading indicator\n            chatBox.innerHTML += `<p style=\"margin: 0.5rem 0; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 0.5rem; color: white;\" id=\"aiLoading\"><strong>AI:</strong> Thinking...</p>`;\n            chatBox.scrollTop = chatBox.scrollHeight;\n\n            try {\n                const response = await fetch(\"https://api.anthropic.com/v1/messages\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify({\n                        model: \"claude-sonnet-4-20250514\",\n                        max_tokens: 1000,\n                        messages: [\n                            { \n                                role: \"user\", \n                                content: `You are an AI assistant for an asset management system. Current user: ${currentUser.name} (${currentUser.role}). Total assets: ${assets.length}. User question: ${message}. Please provide helpful, concise answers about asset management.`\n                            }\n                        ],\n                    })\n                });\n\n                const data = await response.json();\n                const aiResponse = data.content[0].text;\n\n                // Remove loading and add response\n                document.getElementById('aiLoading').remove();\n                chatBox.innerHTML += `<p style=\"margin: 0.5rem 0; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 0.5rem; color: white;\"><strong>AI:</strong> ${aiResponse}</p>`;\n                chatBox.scrollTop = chatBox.scrollHeight;\n                \n            } catch (error) {\n                document.getElementById('aiLoading').remove();\n                chatBox.innerHTML += `<p style=\"margin: 0.5rem 0; padding: 0.75rem; background: rgba(239, 68, 68, 0.2); border-radius: 0.5rem; color: white;\"><strong>Error:</strong> Could not connect to AI. Please try again.</p>`;\n                chatBox.scrollTop = chatBox.scrollHeight;\n            }\n        }\n\n        // Role selection functions\n        let selectedRole = 'admin';\n\n        function selectRole(role) {\n            selectedRole = role;\n            const adminBtn = document.getElementById('adminRoleBtn');\n            const employeeBtn = document.getElementById('employeeRoleBtn');\n            const demoText = document.getElementById('demoText');\n            \n            if (role === 'admin') {\n                adminBtn.classList.add('active');\n                employeeBtn.classList.remove('active');\n                demoText.textContent = 'Demo: admin/admin123';\n            } else {\n                employeeBtn.classList.add('active');\n                adminBtn.classList.remove('active');\n                demoText.textContent = 'Demo: employee/emp123';\n            }\n        }\n\n        function handleLogin() {\n            const username = document.getElementById('loginUser').value.trim();\n            const password = document.getElementById('loginPass').value.trim();\n            \n            if (!username || !password) {\n                alert('‡§ï‡•É‡§™‡§Ø‡§æ username ‡§î‡§∞ password ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§≠‡§∞‡•á‡§Ç!');\n                return;\n            }\n\n            const user = users.find(u => u.username === username && u.password === password && u.role === selectedRole);\n            \n            if (user) {\n                currentUser = user;\n                sessionStorage.setItem('currentUser', JSON.stringify(user));\n                \n                document.getElementById('loginUser').value = '';\n                document.getElementById('loginPass').value = '';\n                \n                showDashboard();\n            } else {\n                alert(`‡§ó‡§≤‡§§ credentials! ‡§Ø‡§æ ‡§Ü‡§™ ${selectedRole} ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç‡•§`);\n            }\n        }\n\n        function showRegister() {\n            document.getElementById('registerModal').classList.add('show');\n        }\n\n        function hideRegister() {\n            document.getElementById('registerModal').classList.remove('show');\n        }\n\n        let generatedOTP = null;\n        let otpUsername = null;\n\n        function showForgotPassword() {\n            // Reset form\n            document.getElementById('otpRequestSection').style.display = 'block';\n            document.getElementById('otpVerifySection').style.display = 'none';\n            document.getElementById('forgotUser').value = '';\n            document.getElementById('otpInput').value = '';\n            document.getElementById('forgotNewPass').value = '';\n            document.getElementById('forgotConfirmPass').value = '';\n            generatedOTP = null;\n            otpUsername = null;\n            \n            document.getElementById('forgotModal').classList.add('show');\n        }\n\n        function hideForgotPassword() {\n            document.getElementById('forgotModal').classList.remove('show');\n            // Reset form\n            document.getElementById('otpRequestSection').style.display = 'block';\n            document.getElementById('otpVerifySection').style.display = 'none';\n            generatedOTP = null;\n            otpUsername = null;\n        }\n\n        function sendOTP() {\n            const username = document.getElementById('forgotUser').value.trim();\n            \n            if (!username) {\n                alert('‡§ï‡•É‡§™‡§Ø‡§æ username ‡§≠‡§∞‡•á‡§Ç!');\n                return;\n            }\n\n            const user = users.find(u => u.username === username);\n            \n            if (!user) {\n                alert('‡§Ø‡§π username registered ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à!');\n                return;\n            }\n\n            // Generate 6-digit OTP\n            generatedOTP = Math.floor(100000 + Math.random() * 900000).toString();\n            otpUsername = username;\n            \n            // Show OTP in alert (in real app, this would be sent via email/SMS)\n            alert(`‚úÖ OTP sent successfully!\\n\\nYour OTP is: ${generatedOTP}\\n\\n(In production, this would be sent to your email/phone)`);\n            \n            // Show OTP verification section\n            document.getElementById('otpRequestSection').style.display = 'none';\n            document.getElementById('otpVerifySection').style.display = 'block';\n            document.getElementById('otpSentMsg').textContent = `OTP sent to ${username}'s registered contact`;\n            \n            console.log('Generated OTP:', generatedOTP); // For testing\n        }\n\n        function handleForgotPassword() {\n            const enteredOTP = document.getElementById('otpInput').value.trim();\n            const newPass = document.getElementById('forgotNewPass').value.trim();\n            const confirmPass = document.getElementById('forgotConfirmPass').value.trim();\n\n            if (!enteredOTP || !newPass || !confirmPass) {\n                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä fields ‡§≠‡§∞‡•á‡§Ç!');\n                return;\n            }\n\n            if (enteredOTP !== generatedOTP) {\n                alert('‚ùå ‡§ó‡§≤‡§§ OTP! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä OTP enter ‡§ï‡§∞‡•á‡§Ç‡•§');\n                return;\n            }\n\n            if (newPass !== confirmPass) {\n                alert('‚ùå Passwords match ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§∞‡§π‡•á!');\n                return;\n            }\n\n            if (newPass.length < 6) {\n                alert('Password ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 6 characters ‡§ï‡§æ ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è!');\n                return;\n            }\n\n            // Update password\n            const userIndex = users.findIndex(u => u.username === otpUsername);\n            users[userIndex].password = newPass;\n            localStorage.setItem('users', JSON.stringify(users));\n            \n            alert('‚úÖ Password successfully reset! ‡§Ö‡§¨ ‡§Ü‡§™ ‡§®‡§è password ‡§∏‡•á login ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§');\n            \n            hideForgotPassword();\n        }\n\n        // Allow Enter key to send message\n        document.addEventListener('DOMContentLoaded', function() {\n            // Setup role buttons\n            const adminBtn = document.getElementById('adminRoleBtn');\n            const employeeBtn = document.getElementById('employeeRoleBtn');\n            \n            if (adminBtn) {\n                adminBtn.addEventListener('click', function() {\n                    selectRole('admin');\n                });\n            }\n            \n            if (employeeBtn) {\n                employeeBtn.addEventListener('click', function() {\n                    selectRole('employee');\n                });\n            }\n            \n            // Setup login button\n            const loginBtn = document.getElementById('loginBtn');\n            if (loginBtn) {\n                loginBtn.addEventListener('click', handleLogin);\n            }\n            \n            // Setup register link\n            const registerLink = document.getElementById('registerLink');\n            if (registerLink) {\n                registerLink.addEventListener('click', showRegister);\n            }\n            \n            // Setup forgot password link\n            const forgotLink = document.getElementById('forgotLink');\n            if (forgotLink) {\n                forgotLink.addEventListener('click', showForgotPassword);\n            }\n            \n            // Setup register button\n            const registerBtn = document.getElementById('registerBtn');\n            if (registerBtn) {\n                registerBtn.addEventListener('click', handleRegister);\n            }\n            \n            // Setup back from register\n            const backFromRegister = document.getElementById('backFromRegister');\n            if (backFromRegister) {\n                backFromRegister.addEventListener('click', hideRegister);\n            }\n            \n            // Setup send OTP button\n            const sendOtpBtn = document.getElementById('sendOtpBtn');\n            if (sendOtpBtn) {\n                sendOtpBtn.addEventListener('click', sendOTP);\n            }\n            \n            // Setup resend OTP button\n            const resendOtpBtn = document.getElementById('resendOtpBtn');\n            if (resendOtpBtn) {\n                resendOtpBtn.addEventListener('click', sendOTP);\n            }\n            \n            // Setup reset password button\n            const resetPasswordBtn = document.getElementById('resetPasswordBtn');\n            if (resetPasswordBtn) {\n                resetPasswordBtn.addEventListener('click', handleForgotPassword);\n            }\n            \n            // Setup back from forgot\n            const backFromForgot = document.getElementById('backFromForgot');\n            if (backFromForgot) {\n                backFromForgot.addEventListener('click', hideForgotPassword);\n            }\n            \n            // AI input enter key\n            const aiInput = document.getElementById('aiInput');\n            if (aiInput) {\n                aiInput.addEventListener('keypress', function(e) {\n                    if (e.key === 'Enter' && !e.shiftKey) {\n                        e.preventDefault();\n                        sendMessage();\n                    }\n                });\n            }\n        });\n\n        function init() {\n            // Load users\n            const savedUsers = localStorage.getItem('users');\n            if (savedUsers) {\n                users = JSON.parse(savedUsers);\n            } else {\n                localStorage.setItem('users', JSON.stringify(users));\n            }\n            \n            // Check if user is already logged in\n            const savedUser = sessionStorage.getItem('currentUser');\n            if (savedUser) {\n                currentUser = JSON.parse(savedUser);\n                showDashboard();\n            }\n            loadAssets();\n        }\n        \n        // Initialize on page load\n        window.onload = init;\n    </script>\nadd following in this project : Admin  role : Asset Assign & Return Asset employee ko assign karna Return record maintain karna Asset status change (Available / In-Use / Damaged / Lost) Approval System Employee ki asset request approve / reject Reports & Logs Kis employee ke paas kaunsa asset hai Asset history (kab issue hua, kab return) [4:51 pm, 22/1/2026] Amarjeet: Employee role : Asset Request New asset ke liye request bhejna Reason mention karna Return Request Asset return ka request Damage report karna Profile Management Apna profile dekhna / update karna Jo koi bhi employ I d create karega uska detail admin ko so hoga Graphical representation of all assets is shown. Admin ka  previous admin   ke permission se he  create ho ek se jyeda admin account na ho Admin should be created only with the permission of the previous admin",
      "createdAt": "2026-01-22T16:44:05.135Z",
      "threadID": "46568655-b822-4482-a199-3a7cbb8ccc4f",
      "references": [],
      "skillExecutions": []
    },
    {
      "id": "a6ce466a-33f0-41e2-b48d-681d85e88a85",
      "parentMessageID": "6c609dbd-49a8-4600-a946-ae2093b1dc2c",
      "intent": "conversation",
      "role": "assistant",
      "model": "",
      "content": "I'll help you add these features to your Asset Management System. Let me create an enhanced version with all the requested functionality. ",
      "createdAt": "2026-01-22T16:45:04.172031278Z",
      "threadID": "46568655-b822-4482-a199-3a7cbb8ccc4f",
      "references": [
        {
          "type": "text",
          "text": "You have provided a comprehensive HTML/CSS/JS implementation for an Asset Management System, along with new requirements for enhanced \"Admin\" and \"Employee\" roles, asset assignment/return, approvals, reporting, and restrictions on admin creation.  \nBelow are the **Key Features you requested**‚Äîbroken down with detailed specifications to guide development, followed by a list of suggested code modules/components to add to your project, and important notes for enforcing business logic.\n\n---\n\n## 1. **ADMIN ROLE ‚Äì New Functionalities**\n\n### **A. Assign & Return Assets**\n- **Assign/Unassign UI**  \n  - Provide a button (\"Assign Asset\") next to each unassigned asset (status ‚ÄúAvailable‚Äù).\n  - Modal: Select `Employee` & assignment notes.\n  - On assign:  \n    - Set asset `assignedTo: <employee_username>`, `status: \"In-Use\"`, and log assignment datetime.\n  - Provide a button (\"Mark as Returned\") for assets with status \"In-Use\".  \n    - On return:  \n      - Set asset `assignedTo: null`, `status: \"Available\"`, and log return datetime.\n      - Support Asset Return Request approval flow (see Employee requests).\n\n### **B. Asset Status Change**\n- Enable Admin to update status (`Available`, `In-Use`, `Damaged`, `Lost`) for any asset.\n- Log every change (old status, new status, timestamp).\n\n### **C. Approval System**\n- **Asset Requests:**  \n  - List of pending asset requests from employees.\n  - Review reason, approve or reject, optionally add admin note.  \n  - On approve: assign asset, set to \"In-Use\", link to requester.\n  - On reject: notify employee and close request.\n\n- **Return Requests:**  \n  - List of pending return requests by employees.\n  - Approve (updates asset to \"Available\", records return);  \n    Reject (asset remains with employee, send a message).\n\n- **Damage Reports**:  \n  - Employees can report damage. Admin must review, approve status update to \"Damaged\" or \"Lost\".\n\n### **D. Reports and Logs**\n- **Current Asset Distribution:**  \n  - Table/list mapping each employee to their assets.\n- **Asset History:**  \n  - For each asset, display: assign history (to whom, from when-to when), return times, status changes, damage reports.\n- **All Request Logs:**  \n  - Tabular history of all asset requests, returns, approvals/rejections.\n\n### **E. Graphical Representation**\n- Charts showing:\n  - Total assets by type.\n  - Assets in each status (bar or pie chart).\n  - Top employees by number/value of assets.\n\n---\n\n## 2. **EMPLOYEE ROLE ‚Äì New Functionalities**\n\n### **A. Asset Requests**\n- UI for employee to request assignment of available assets.\n- Select asset, provide reason.\n- Submit generates a pending request for Admin approval.\n\n### **B. Return Request**\n- For any asset assigned to employee, allow return request (\"Request Return\"), optionally add note.\n\n### **C. Damage Report**\n- For assigned assets, allow reporting as ‚ÄúDamaged\" or \"Lost\". \n- Add reason/comments. Admin to review and approve status change.\n\n### **D. Profile Management**\n- Employee can view and update their own name, password.\n- Cannot update username or role.\n\n---\n\n## 3. **ADMIN ACCOUNT RESTRICTIONS**\n\n- **Single Admin:**  \n  - Only one Admin account allowed at a time.\n  - ‚ÄúRegister as Admin‚Äù only possible if there is an existing logged-in admin and they explicitly grant permission (e.g., via ‚ÄúAdd Admin‚Äù action).\n  - New admin creation is blocked if not authorized.\n  - When a new admin is created, the previous admin must approve the transfer. Only one admin record remains at any time.\n\n- **Show Employee Registration to Admin:**  \n  - Any new employee registration should trigger a notification/entry in admin dashboard (e.g., ‚ÄúNew employee awaiting approval‚Äù or shown in logs).\n\n---\n\n## 4. **SUGGESTED MODULES & FUNCTIONS TO IMPLEMENT**\n\nBreak your JS into these logical areas to minimize bugs:\n\n### **A. Data Models**\n- `assets = [...]`\n- `users = [...]` (`role`, `profile`, `pending` flag, etc)\n- `assetAssignments = [...]`  \n- `assetRequests = [...]` (from employees)\n- `returnRequests = [...]`\n- `damageReports = [...]`\n- `logs = [...]`\n\n### **B. Admin Dashboard Enhancements**\n- **Asset Assignment Tab** ‚Äì list all available assets, assign modal.\n- **Request Approvals Tab** ‚Äì list/approve/reject asset and return requests.\n- **Logs & Reports Tab** ‚Äì filtered logs, export to CSV.\n- **Employee Creation Approvals** ‚Äì show pending new employees if future restriction added.\n\n### **C. Employee Dashboard Enhancements**\n- **Request Asset Modal/Form**\n- **Return Request Button** (visible for assigned assets)\n- **Damage Report Button** and form.\n- **Profile Page/Edit Panel**\n\n### **D. Common**\n- **Notification System** (toast/banner for actions/approvals)\n- **Graphical/Chart Library** (Chart.js, ECharts, etc.) for stats.\n\n---\n\n## 5. **IMPORTANT BUSINESS LOGIC (JS/LOCALSTORAGE)**\n\n- All requests and assignments should be objects with unique `id`, timestamps, `status`, `reason`.\n- Assignment, return, and damage actions should update both the asset record and the related request/log object.\n- Admin-only code for approving requests must not be accessible to regular employees.\n- Every log entry should include actor (admin/employee), what changed, and when.\n\n---\n\n## 6. **NEXT DEVELOPMENT STEPS (Coding Guide)**\n\n1. **Create pending request arrays**: `assetRequests`, `returnRequests`, `damageReports`\n2. **Extend asset data structure for assignments/history**:  \n   Add `assignedTo`, `assignmentLog = []`, etc.\n3. **Design UI tabs/modals for all request & approval flows.**\n4. **Implement role-based views:**  \n   Employees see only their own info, admins see all.\n5. **For admin creation, build an ‚ÄúAdd new Admin‚Äù modal**;  \n   require previous admin password for verification.\n6. **Build chart-drawing code for asset status/type.**\n7. **Ensure all changes and requests (assignment, return, new employee) create log entries visible to admin.**\n\n---\n\n## 7. **SAMPLE CODE STUBS TO GET STARTED**\n\n```js\n// On request asset by employee:\nassetRequests.push({\n  id: Date.now(),\n  assetId: <asset_id>,\n  requestedBy: <user_id>,\n  reason: <reason>,\n  status: \"pending\",\n  requestedAt: new Date().toISOString()\n});\nlocalStorage.setItem('assetRequests', JSON.stringify(assetRequests));\n// Admin reviews, approves/rejects via dashboard\n\n// To maintain log:\nlogs.push({\n  action: 'Asset Assigned',\n  assetId,\n  from: null,\n  to: employeeId,\n  by: adminId,\n  date: new Date().toISOString()\n});\n```\n\n---\n\n## 8. **NOTES**\n- Modularize and comment your new JS heavily.\n- Use localStorage to save ALL lists (requests, logs, etc).\n- Consider using libraries like Chart.js for data visualization.\n- Focus on approval and status workflows to avoid unauthorized asset actions.\n- Always check role before executing asset modifications.\n- Use clear UI indications (tabs, badges, toasts) for pending actions.\n\n---\n\n**If you want a ready-to-use code sample for any specific module (e.g., ‚ÄúAsset assignment modal implementation‚Äù or ‚ÄúAdmin approval logic‚Äù), just ask and I can generate that snippet for you!**"
        }
      ],
      "skillExecutions": []
    }
  ],
  "files": {}
}